{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/public/js/homepageFunctions.js"],"names":["getCookie","cname","name","ca","document","cookie","split","i","length","c","charAt","substring","indexOf","isJSON","str","JSON","parse","e","getTime","hours","minutes","time","sliderIntToStartEndTimes","val0","val1","minutes0","parseInt","hours0","Math","floor","minutes1","hours1","startTime","endTime","setSpanTime","$id","slider","parent","children","last","text","window","slideTime","event","ui","values","$","target","ready","crns","crnSelector","val","replace","subjects","$defaultSearchResult","$addedTemplate","$buttonRemoveTemplate","alreadyFetched","browse","Object","keys","forEach","k","subjFullName","$subjPanel","clone","removeClass","removeAttr","addClass","find","append","loadCourses","$newPanel","data","v","num","initial","FOS","end","title","descr","units","hasDescr","Title","prereq","displayTitle","description","html","attr","inCRN","Available","toArray","li","fetchBySubj","ajax","url","jsonp","dataType","subj","success","courseData","response","getJSON","courses","addCourse","fos","displaytitle","continuing","course","changeClassesToRemove","$add","$button","createListeners","on","includes","cls","push","collapse","loc","$resultsSelector","empty","search","cn","substr","basketItemsToDictionary","CourseNum","requiredCourse","getCourses","$courses","count","size","concat","map","unwantedTimes","value","reduce","accumulator","currentValue","times","is","allCourses","timePref","prop","fullClasses","preregistered","alert","location","assign","encodeURIComponent","stringify","hide","$course","decodeURIComponent","each","preventDefault","show","closest","remove","changeClassesToAdd","bootstrapToggle","off","offstyle","onstyle","$cloned","schedules","key","v2","prepend","initialSetSliders","sliderMin","sliderMax","range","min","max","step","slide","getParameterByName","href","regex","RegExp","results","exec","paramI","importFromURL","setInputCheckedByName","element","getTimeInMinutesFromString","d","Date","now","getFullYear","getMonth","getDate","ampm","setHours","setMinutes","timeRestrictionValue","days","day"],"mappings":"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","file":"homepageFunctions-a8a82b5ffeb0c6a3066c.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/public/js/homepageFunctions.js\");\n","let getCookie = (cname) => {\r\n    let name = cname + \"=\";\r\n    let ca = document.cookie.split(';');\r\n    for (let i = 0; i < ca.length; i++) {\r\n        let c = ca[i];\r\n        while (c.charAt(0) === ' ') {\r\n            c = c.substring(1);\r\n        }\r\n        if (c.indexOf(name) === 0) {\r\n            return c.substring(name.length, c.length);\r\n        }\r\n    }\r\n    return \"\";\r\n};\r\n\r\nlet isJSON = (str) => {\r\n    try {\r\n        JSON.parse(str);\r\n    }\r\n    catch (e) {\r\n        return false;\r\n    }\r\n    return true;\r\n};\r\n\r\nlet getTime = (hours, minutes) => {\r\n    let time = null;\r\n    minutes = minutes + \"\";\r\n    if (hours < 12) {\r\n        time = \"AM\";\r\n    }\r\n    else {\r\n        time = \"PM\";\r\n    }\r\n    if (hours === 0) {\r\n        hours = 12;\r\n    }\r\n    if (hours > 12) {\r\n        hours = hours - 12;\r\n    }\r\n    if (minutes.length === 1) {\r\n        minutes = \"0\" + minutes;\r\n    }\r\n    return hours + \":\" + minutes + \" \" + time;\r\n};\r\n\r\nlet sliderIntToStartEndTimes = (val0, val1) => {\r\n    let minutes0 = parseInt(val0, 10) % 60;\r\n    let hours0 = Math.floor(parseInt(val0, 10) / 60) % 24;\r\n    let minutes1 = parseInt(val1, 10) % 60;\r\n    let hours1 = Math.floor(parseInt(val1, 10) / 60) % 24;\r\n\r\n    let startTime = getTime(hours0, minutes0);\r\n    let endTime = getTime(hours1, minutes1);\r\n    return startTime + \" - \" + endTime;\r\n};\r\n\r\nlet setSpanTime = ($id) => {\r\n    let val0 = $id.slider(\"values\", 0);\r\n    let val1 = $id.slider(\"values\", 1);\r\n    $id.parent().children().last().text(sliderIntToStartEndTimes(val0, val1));\r\n};\r\n// Export function globally\r\nwindow.setSpanTime = setSpanTime;\r\n\r\nlet slideTime = (event, ui) => {\r\n    let val0 = ui.values[0];\r\n    let val1 = ui.values[1];\r\n    $(event.target).parent().children().last().text(sliderIntToStartEndTimes(val0, val1));\r\n};\r\n// Export function globally\r\nwindow.slideTime = slideTime;\r\n\r\n$(document).ready(() => {\r\n    let crns = \"\";\r\n    let crnSelector = $(\"#crns\");\r\n    if (typeof crnSelector.val() !== \"undefined\" && crnSelector.val().length > 0) {\r\n        crns = crnSelector.val().replace(/[,]+/g, '').replace(/ +(?= )/g, '').split(\" \");\r\n    }\r\n    let subjects = {\r\n        \"ACCT\": \"Accounting\",\r\n        \"AMST\": \"American Studies\",\r\n        \"ANTH\": \"Anthropology\",\r\n        \"ARAB\": \"Arabic\",\r\n        \"ARTH\": \"Art History\",\r\n        \"BIOL\": \"Biology\",\r\n        \"BMB\": \"Biochemistry\",\r\n        \"BUAD\": \"Business Administration\",\r\n        \"CHEM\": \"Chemistry\",\r\n        \"CHIN\": \"Chinese Program\",\r\n        \"CJ\": \"Criminal Justice\",\r\n        \"CLAC\": \"Cultures and Languages Across the Curriculum\",\r\n        \"CLCV\": \"Classical Studies\",\r\n        \"CLSC\": \"Classical Studies\",\r\n        \"CMSC\": \"Computer Science\",\r\n        \"DANC\": \"Dance\",\r\n        \"ECON\": \"Economics\",\r\n        \"EDUC\": \"Education\",\r\n        \"ENGL\": \"English\",\r\n        \"ENVR\": \"Environmental Studies\",\r\n        \"FIN\": \"Finance\",\r\n        \"FMST\": \"Film Studies\",\r\n        \"FREN\": \"French Program\",\r\n        \"FYS\": \"First Year Seminar\",\r\n        \"GEOG\": \"Geography\",\r\n        \"GERM\": \"German Studies Program\",\r\n        \"GREK\": \"Greek\",\r\n        \"HCS\": \"Healthcare Studies\",\r\n        \"HIST\": \"History\",\r\n        \"IBUS\": \"International Business\",\r\n        \"IDST\": \"Interdisciplinary Studies\",\r\n        \"IS\": \"International Studies\",\r\n        \"ITAL\": \"Italian Studies Program\",\r\n        \"JAPN\": \"Japanese Program\",\r\n        \"JOUR\": \"Journalism\",\r\n        \"JWST\": \"Jewish Studies\",\r\n        \"LAIS\": \"Latin American, Latino and Iberian Studies\",\r\n        \"LATN\": \"Latin\",\r\n        \"LDST\": \"Leadership Studies\",\r\n        \"LLC\": \"Languages, Literatures and Cultures\",\r\n        \"MATH\": \"Mathematics\",\r\n        \"MGMT\": \"Management\",\r\n        \"MKT\": \"Marketing\",\r\n        \"MSAP\": \"Music-Applied\",\r\n        \"MSCL\": \"Military Science and Leadership\",\r\n        \"MSEN\": \"Music-Ensemble\",\r\n        \"MUS\": \"Music\",\r\n        \"PHIL\": \"Philosophy\",\r\n        \"PHYS\": \"Physics\",\r\n        \"PLSC\": \"Political Science\",\r\n        \"PPEL\": \"Philosophy Politics Economics and Law\",\r\n        \"PSYC\": \"Psychology\",\r\n        \"RELG\": \"Religious Studies\",\r\n        \"RHCS\": \"Rhetoric and Communication Studies\",\r\n        \"RUSN\": \"Russian Studies Program\",\r\n        \"SDLC\": \"Languages, Literatures and Cultures\",\r\n        \"SOC\": \"Sociology\",\r\n        \"SPCS\": \"School of Professional and Continuing Studies\",\r\n        \"SWAH\": \"Languages, Literatures and Cultures\",\r\n        \"THTR\": \"Theatre\",\r\n        \"UNIV\": \"University Seminar\",\r\n        \"VMAP\": \"Visual and Media Arts Practice\",\r\n        \"WELL\": \"Wellness Program\",\r\n        \"WGSS\": \"Women, Gender and Sexuality Studies\"\r\n    };\r\n\r\n    let $defaultSearchResult = $(\"#searchResultTemplate\");\r\n    let $addedTemplate = $(\"#addedTemplate\");\r\n    let $buttonRemoveTemplate = $(\"#basket-remove\");\r\n    let alreadyFetched = [];\r\n\r\n    let browse = () => {\r\n        Object.keys(subjects).forEach((k) => {\r\n            let subjFullName = subjects[k];\r\n            let $subjPanel = $(\"#subj-list-template\").clone().removeClass(\"hide\").removeAttr('id')\r\n                                                     .addClass(\"subj-\" + k);\r\n            $subjPanel.find(\".panel-title\").text(subjFullName + \" (\" + k + \")\");\r\n            $(\"#subj-list\").append($subjPanel);\r\n        });\r\n    };\r\n\r\n    let loadCourses = ($newPanel, data, v, num) => {\r\n        let initial = data.substring(data.indexOf(\"</span>\" + v.FOS + \" \" + num));\r\n        let end = initial.substring(0, initial.indexOf('<!--close inner-content-wrap'));\r\n        let title = end.substring(v.FOS.length + 9 + v[\"Course Number\"].length, end.indexOf(\"</a>\"));\r\n        let descr = end.substring(end.indexOf(\"Description</div>\") + 17);\r\n        descr = descr.substring(0, descr.indexOf(\"</div>\"));\r\n        let units = end.substring(end.indexOf(\"Units: \") + 7, end.indexOf(\"</div>\"));\r\n        let hasDescr = true;\r\n        if (title.indexOf('Print Courses') > -1) {\r\n            hasDescr = false;\r\n            title = v.Title;\r\n            descr = \"Course has no description\";\r\n            units = \"units are unknown\";\r\n        }\r\n        let prereq = \"\";\r\n        if (end.indexOf(\"Prerequisites</div>\") > -1) {\r\n            prereq = end.substring(end.indexOf(\"Prerequisites</div>\") + 19);\r\n            prereq = prereq.substring(0, prereq.indexOf(\"</div>\"));\r\n        }\r\n        if (!(v.Title.indexOf(\"ST:\") > -1) && !(v.Title.indexOf(\"SP:\") > -1) && v.FOS !== \"FYS\" &&\r\n            v[\"FOS\"] !== \"WELL\" && !(v.FOS === \"HIST\" && v[\"Course Number\"] === \"199\") && !(v.FOS === \"HIST\" &&\r\n                v[\"Course Number\"] === \"299\") && !(v.FOS === \"ENGL\" && v[\"Course Number\"] === \"299\") &&\r\n            !(v.FOS === \"BIOL\" && v[\"Course Number\"] === \"199\")) {\r\n            if (hasDescr) {\r\n                v.Title = title;\r\n            }\r\n        }\r\n\r\n        if (v.FOS === \"FYS\" && \"description\" in v) {\r\n            title = v.displayTitle;\r\n            descr = v.description;\r\n        }\r\n        else if (!(\"description\" in v)) {\r\n            title = v.Title;\r\n        }\r\n\r\n        let html = \"<h4>\" + title + \"</h4><p>\" + descr + \"</p><p>Units: \" + units + \"</p>\";\r\n        if (prereq !== \"\") {\r\n            html = html + \"<p>Prerequisites: \" + prereq + \"</p>\";\r\n        }\r\n        $newPanel.find(\"#title\").text(v.FOS + \" \" + v[\"Course Number\"] + \" | \" + title);\r\n        $newPanel.find(\".panel-body\").html(html);\r\n        $newPanel.find(\"#button\")\r\n                 .attr(\"data-fos\", v.FOS)\r\n                 .attr(\"data-coursenum\", v[\"Course Number\"])\r\n                 .attr(\"data-coursename\", v.Title)\r\n                 .attr(\"data-displayTitle\", v.displayTitle);\r\n\r\n        let inCRN = false;\r\n        v.crns.forEach((v) => {\r\n            if (crns.indexOf(v) > -1) {\r\n                inCRN = true;\r\n            }\r\n        });\r\n\r\n        if (!v.Available) {\r\n            $newPanel.find(\"#button\")\r\n                     .removeClass(\"btn-success\")\r\n                     .removeClass(\"btn-add-course\")\r\n                     .removeClass(\"glyphicon-plus\")\r\n                     .addClass(\"btn-disable\")\r\n                     .text(\"Course Not Available\");\r\n        }\r\n        else if (inCRN) {\r\n            $newPanel.find(\"#button\")\r\n                     .removeClass(\"btn-success\")\r\n                     .removeClass(\"btn-add-course\")\r\n                     .removeClass(\"glyphicon-plus\")\r\n                     .addClass(\"btn-disable\")\r\n                     .text(\"Preregistered\");\r\n        }\r\n\r\n        $(\"#course-basket, #course-basket-required\")\r\n            .find(\"li\").toArray()\r\n            .forEach((li) => {\r\n                li = $(li);\r\n                if (li.data(\"fos\") === v.FOS && li.data(\"coursenum\") === parseInt(v[\"Course Number\"]) &&\r\n                    li.data(\"coursename\") === v.Title) {\r\n                    $newPanel.find(\"#button\")\r\n                             .removeClass(\"glyphicon-plus\")\r\n                             .removeClass(\"btn-success\")\r\n                             .removeClass(\"btn-add-course\")\r\n                             .addClass(\"btn-danger\")\r\n                             .addClass(\"glyphicon-minus\")\r\n                             .addClass(\"btn-remove-course\");\r\n                }\r\n            });\r\n\r\n        return $newPanel;\r\n    };\r\n\r\n    let fetchBySubj = (k) => {\r\n        $.ajax({\r\n            url: \"richmondAPI.php\",\r\n            jsonp: \"callback\",\r\n            dataType: \"jsonp\",\r\n            data: {\r\n                subj: k\r\n            },\r\n            success: (courseData) => {\r\n                courseData = courseData.response;\r\n                $.getJSON('richmondAPI.php?catalog-subj=' + k + '&callback=?', (data) => {\r\n                    data = data.courses;\r\n                    courseData.forEach((v) => {\r\n                        let $newPanel = $(\"#subj-list-template2\").clone().removeAttr('id');\r\n                        let num = v[\"Course Number\"];\r\n                        if (num <= 99) {\r\n                            num = \"0\" + num;\r\n                        }\r\n                        $newPanel = loadCourses($newPanel, data, v, num).removeClass(\"hide\");\r\n                        $(\"#subj-list\").find(\".subj-\" + k).find('.main-body').append($newPanel);\r\n                    });\r\n                });\r\n            }\r\n        });\r\n    };\r\n\r\n    let addCourse = (fos, num, name, displaytitle) => {\r\n        let continuing = true;\r\n        $(\"#course-basket li, #course-basket-required li\").toArray().forEach((course) => {\r\n            course = $(course);\r\n            if (course.data(\"fos\") === fos && course.data(\"coursenum\") === num && course.data(\"coursename\") === name) {\r\n                continuing = false;\r\n            }\r\n        });\r\n        if (!continuing) {\r\n            return;\r\n        }\r\n\r\n        let changeClassesToRemove = (course) => {\r\n            course = $(course);\r\n            if (course.data(\"fos\") === fos && course.data(\"coursenum\") === num && course.data(\"coursename\") === name) {\r\n                course.removeClass(\"glyphicon-plus\")\r\n                      .removeClass(\"btn-success\")\r\n                      .removeClass(\"btn-add-course\")\r\n                      .addClass(\"btn-danger\")\r\n                      .addClass(\"glyphicon-minus\")\r\n                      .addClass(\"btn-remove-course\");\r\n            }\r\n        };\r\n\r\n        $(\"#search-results button\").toArray().forEach(changeClassesToRemove);\r\n        $(\".panel .panel-default button\").toArray().forEach(changeClassesToRemove);\r\n\r\n        let $add = $addedTemplate.clone();\r\n        let $button = $buttonRemoveTemplate.clone().removeClass(\"hide\");\r\n        $add.removeClass(\"hide\")\r\n            .attr(\"id\", \"\")\r\n            .text(fos + \" \" + num + \" | \" + name)\r\n            .append(\"&nbsp; &nbsp; &nbsp; &nbsp;\", $button)\r\n            .attr(\"data-fos\", fos)\r\n            .attr(\"data-coursenum\", num)\r\n            .attr(\"data-coursename\", name)\r\n            .attr(\"data-displayTitle\", displaytitle);\r\n        $(\"#course-basket\").append($add);\r\n    };\r\n\r\n    let createListeners = () => {\r\n        $(document).on(\"click\", \".collapse-btn\", (event) => {\r\n            event = $(event.target);\r\n            while (!event.attr(\"class\").includes(\"subj-\")) {\r\n                event = event.parent();\r\n            }\r\n            let cls = event.attr(\"class\").split(\" \");\r\n            cls = cls[cls.length - 1].split(\"-\")[1];\r\n            if (alreadyFetched.indexOf(cls) === -1) {\r\n                fetchBySubj(cls);\r\n                alreadyFetched.push(cls);\r\n            }\r\n            event.find('.panel-collapse:not(.subj-list-collapse)').collapse('toggle');\r\n        });\r\n\r\n        $(document).on(\"click\", \".collapse-btn-subj\", (event) => {\r\n            event = $(event.target);\r\n            while (!event.attr(\"class\").includes(\"collapse-btn-subj\")) {\r\n                event = event.parent();\r\n            }\r\n            event.parent().parent().find('.panel-collapse').collapse('toggle');\r\n        });\r\n\r\n        $(document).on(\"keyup\", \"#searchField\", () => {\r\n            let loc = $(\"#searchField\").val();\r\n            let $resultsSelector = $(\"#search-results\");\r\n            if (loc === \"\") {\r\n                $resultsSelector.empty();\r\n            }\r\n            if (loc.length < 3) {\r\n                return;\r\n            }\r\n            $.ajax({\r\n                url: \"richmondAPI.php\",\r\n                jsonp: \"callback\",\r\n                dataType: \"jsonp\",\r\n                data: {\r\n                    search: loc\r\n                },\r\n                success: (courseData) => {\r\n                    courseData = courseData.response;\r\n                    courseData.forEach((v, i) => {\r\n                        let $newPanel = $defaultSearchResult.clone();\r\n                        let num = v[\"Course Number\"];\r\n                        let cn = num;\r\n\r\n                        if (num <= 99) {\r\n                            num = \"0\" + num;\r\n                        }\r\n\r\n                        // Transform course number to use in lookup against Richmond API\r\n                        if (num > 99) {\r\n                            cn = cn.substr(0, 1) + \"00\";\r\n                        }\r\n\r\n                        $.getJSON('richmondAPI.php?catalog-subj=' + v.FOS + '&catalog-level=' + cn + '&callback=?', (data) => {\r\n                            data = data.courses;\r\n                            $newPanel = loadCourses($newPanel, data, v, num).removeAttr('id').removeClass(\"hide\");\r\n                            if (i === 0) {\r\n                                $resultsSelector.empty();\r\n                            }\r\n                            $resultsSelector.append($newPanel);\r\n                        });\r\n                    });\r\n                }\r\n            });\r\n        });\r\n\r\n        $(document).on(\"click\", \".btn-generate\", () => {\r\n            let basketItemsToDictionary = (data) => {\r\n                return {\r\n                    CourseNum: $(data).data(\"coursenum\"),\r\n                    FOS: $(data).data(\"fos\"),\r\n                    Title: $(data).data(\"coursename\"),\r\n                    displayTitle: $(data).data(\"displaytitle\"),\r\n                    requiredCourse: false\r\n                };\r\n            };\r\n\r\n            let getCourses = [];\r\n\r\n            let $courses = $(\"#course-basket\").find(\"li\");\r\n            let count = $courses.size();\r\n            getCourses = getCourses.concat($courses.toArray().map(basketItemsToDictionary));\r\n\r\n            $courses = $(\"#course-basket-required\").find(\"li\");\r\n            count += $courses.size();\r\n            getCourses = getCourses.concat($courses.toArray()\r\n                                                   .map(basketItemsToDictionary)\r\n                                                   .map((v) => {\r\n                                                       v.requiredCourse = true;\r\n                                                       return v;\r\n                                                   }));\r\n\r\n            let unwantedTimes = $(\"#block\").find(\".blocked-time\").toArray().map((value) => {\r\n                return $(value).find(\"input, .time-display\").toArray()\r\n                               .reduce((accumulator, currentValue) => {\r\n                                   currentValue = $(currentValue);\r\n                                   if (typeof currentValue.text() !== \"undefined\" && currentValue.text() !== \"\") {\r\n                                       let times = currentValue.text().split(\" - \");\r\n                                       accumulator.startTime = times[0];\r\n                                       accumulator.endTime = times[1];\r\n                                   }\r\n                                   if (currentValue.is(':checked')) {\r\n                                       accumulator[currentValue.attr('name')] = currentValue.attr('name');\r\n                                   }\r\n\r\n                                   return accumulator;\r\n                               }, {});\r\n            });\r\n\r\n            let crns = $(\"#crns\").val().replace(/\\D+/g, ',').split(\",\");\r\n            getCourses = {\r\n                allCourses: getCourses,\r\n                timePref: $(\"#time-pref\").prop('checked'),\r\n                fullClasses: $(\"#full-classes\").prop('checked'),\r\n                preregistered: crns,\r\n                startTime: $(\"#restrict-slider\").text().split(\" - \")[0],\r\n                endTime: $(\"#restrict-slider\").text().split(\" - \")[1],\r\n                unwantedTimes: unwantedTimes\r\n            };\r\n\r\n            if (count > 5) {\r\n                window.alert(\"Trying to generate schedules with this many courses may take a long time, but I will try.\"\r\n                    + \"\\n\\nThe calculation is allowed take up to 5 minutes, if it takes longer, it will fail.\");\r\n            }\r\n            window.location.assign(\"makeSchedule.php?i=\" + encodeURIComponent(JSON.stringify(getCourses)));\r\n        });\r\n\r\n        $(document).on(\"click\", \".btn-jumbo-close\", () => {\r\n            $(\".jumbotron\").hide();\r\n            document.cookie = \"jumbotron=hidden\";\r\n        });\r\n\r\n        $(document).on(\"click\", \".btn-add-course\", (e) => {\r\n            let $course = $(e.target);\r\n            addCourse($course.data(\"fos\"), $course.data(\"coursenum\"),\r\n                $course.data(\"coursename\"), $course.data(\"displaytitle\"));\r\n        });\r\n\r\n        $(document).on(\"click\", \".btn-load-history\", (e) => {\r\n            let c = getCookie(\"history\");\r\n            c = JSON.parse(decodeURIComponent(c));\r\n            c = c[$(e.target).data('history-id')];\r\n            $.each(c, (i, v) => {\r\n                if (typeof v === \"object\" && \"Title\" in v) {\r\n                    if (\"displayTitle\" in v) {\r\n                        v.displayTitle = v.displayTitle.replace(/\\+/g, \" \");\r\n                    }\r\n                    addCourse(v.FOS, v.CourseNum, v.Title.replace(/\\+/g, \" \"), v.displayTitle);\r\n                }\r\n            });\r\n        });\r\n\r\n        $(document).on(\"click\", \"#adv\", (e) => {\r\n            e.preventDefault(); // Don't scroll to top of page\r\n\r\n            if (!$('#advanced').is(':visible')) {\r\n                $('#advanced').show(500);\r\n                $('#adv').text('Hide Advanced Options');\r\n                $('#arrow').removeClass(\"glyphicon-chevron-right\").addClass(\"glyphicon-chevron-down\");\r\n            }\r\n            else {\r\n                $('#advanced').hide(500);\r\n                $('#adv').text('Show Advanced Options');\r\n                $('#arrow').removeClass(\"glyphicon-chevron-down\").addClass(\"glyphicon-chevron-right\");\r\n            }\r\n        });\r\n\r\n        $(document).on(\"click\", \".btn-remove-block-time\", (e) => {\r\n            $(e.target).closest(\".blocked-time\").remove();\r\n        });\r\n\r\n        $(document).on(\"click\", \".btn-remove-course\", function (e) {\r\n            let $course = $(e.target);\r\n            if (typeof $course.data(\"fos\") === \"undefined\") {\r\n                $course = $course.parent();\r\n            }\r\n            let fos = $course.data(\"fos\");\r\n            let num = $course.data(\"coursenum\");\r\n            let name = $course.data(\"coursename\");\r\n\r\n            let changeClassesToAdd = (course) => {\r\n                course = $(course);\r\n                if (course.data(\"fos\") === fos && course.data(\"coursenum\") === num && course.data(\"coursename\") === name) {\r\n                    course.addClass(\"glyphicon-plus\")\r\n                          .addClass(\"btn-success\")\r\n                          .addClass(\"btn-add-course\")\r\n                          .removeClass(\"btn-danger\")\r\n                          .removeClass(\"glyphicon-minus\")\r\n                          .removeClass(\"btn-remove-course\");\r\n                }\r\n            };\r\n\r\n            $(\"#search-results\").find(\"button\").toArray().forEach(changeClassesToAdd);\r\n            $(\".panel .panel-default button\").toArray().forEach(changeClassesToAdd);\r\n            $(\"#course-basket li, #course-basket-required li\").toArray().forEach((course) => {\r\n                course = $(course);\r\n                if (course.data(\"fos\") === fos && course.data(\"coursenum\") === num && course.data(\"coursename\") === name) {\r\n                    course.remove();\r\n                }\r\n            });\r\n        });\r\n    };\r\n\r\n    createListeners();\r\n\r\n    $(\"#advanced\").hide();\r\n\r\n    $('#time-pref').bootstrapToggle({\r\n        on: 'Morning',\r\n        off: 'Afternoon',\r\n        offstyle: 'warning'\r\n    });\r\n\r\n    $('#full-classes').bootstrapToggle({\r\n        on: 'Yes',\r\n        off: 'No',\r\n        offstyle: 'danger',\r\n        onstyle: 'success'\r\n    });\r\n\r\n    if (getCookie(\"history\").length > 0) {\r\n        let c = getCookie(\"history\");\r\n        c = JSON.parse(decodeURIComponent(c));\r\n        c.forEach((v, i) => {\r\n            let $cloned = $(\"#history-template\").clone().removeClass(\"hide\").removeAttr('id');\r\n            $cloned.find(\".panel-title\").text(v.schedules + \" Schedules\");\r\n            let courses = \"<ul class='list-group'>\";\r\n            Object.keys(v).forEach((key) => {\r\n                let v2 = v[key];\r\n                if (typeof v2 === \"object\" && \"Title\" in v2) {\r\n                    courses = courses + \"<li class='list-group-item'>\" + v2.Title.replace(/\\+/g, \" \") + \"</li>\";\r\n                }\r\n            });\r\n            courses = courses + \"</ul>\";\r\n            $cloned.find(\".panel-body\").html(courses);\r\n            $cloned.find(\".btn-load-history\").attr('data-history-id', i);\r\n            $(\"#history\").prepend($cloned);\r\n        });\r\n    }\r\n\r\n    if (getCookie(\"jumbotron\") !== \"hidden\") {\r\n        $(\".jumbotron\").removeClass(\"hide\");\r\n    }\r\n\r\n    browse();\r\n\r\n});\r\n\r\nlet initialSetSliders = (sliderMin, sliderMax) => {\r\n    $(document).on(\"click\", \"#add-block-time\", () => {\r\n        let $cloned = $(\"#block-time-template\").clone().removeClass(\"hide\").removeAttr('id');\r\n        $cloned.find(\".time-slider\").slider({\r\n            range: true,\r\n            min: sliderMin,\r\n            max: sliderMax,\r\n            step: 15,\r\n            values: [sliderMin, 600],\r\n            slide: slideTime\r\n        });\r\n        setSpanTime($cloned.find(\".time-slider\"));\r\n        $(\"#block\").append($cloned);\r\n    });\r\n\r\n    $(document).ready(() => {\r\n            let getParameterByName = (name, url) => {\r\n                if (!url) {\r\n                    url = window.location.href;\r\n                }\r\n                name = name.replace(/[\\[\\]]/g, \"\\\\$&\");\r\n                let regex = new RegExp(\"[?&]\" + name + \"(=([^&#]*)|&|#|$)\");\r\n                let results = regex.exec(url);\r\n                if (!results) {\r\n                    return null;\r\n                }\r\n                if (!results[2]) {\r\n                    return '';\r\n                }\r\n                return decodeURIComponent(results[2].replace(/\\+/g, \" \"));\r\n            };\r\n            let paramI = getParameterByName('i');\r\n            if (paramI !== null && paramI !== \"\" && isJSON(paramI)) {\r\n                let importFromURL = JSON.parse(paramI).unwantedTimes;\r\n\r\n                let setInputCheckedByName = (name, element) => {\r\n                    element.find(\"input[name='\" + name + \"']\").parent().addClass(\"active\");\r\n                    element.find(\"input[name='\" + name + \"']\").prop('checked', true);\r\n                };\r\n\r\n                let getTimeInMinutesFromString = (str) => {\r\n                    let d = new Date();\r\n                    let now = new Date(d.getFullYear(), d.getMonth(), d.getDate(), 0, 0, 0);\r\n\r\n                    let time = str.split(\" \")[0].split(\":\");\r\n                    let ampm = str.split(\" \")[1];\r\n                    d.setHours(parseInt(time[0]) + (ampm === \"PM\" ? 12 : 0));\r\n                    d.setMinutes(parseInt(time[1]) || 0);\r\n                    return Math.floor((d - now) / 60000);\r\n                };\r\n\r\n                importFromURL.forEach((timeRestrictionValue) => {\r\n                    let $cloned = $(\"#block-time-template\").clone()\r\n                                                           .removeClass(\"hide\")\r\n                                                           .removeAttr('id');\r\n                    timeRestrictionValue.startTime = getTimeInMinutesFromString(timeRestrictionValue.startTime);\r\n                    timeRestrictionValue.endTime = getTimeInMinutesFromString(timeRestrictionValue.endTime);\r\n\r\n                    $cloned.find(\".time-slider\").slider({\r\n                        range: true,\r\n                        min: sliderMin,\r\n                        max: sliderMax,\r\n                        step: 15,\r\n                        values: [timeRestrictionValue.startTime, timeRestrictionValue.endTime],\r\n                        slide: slideTime\r\n                    });\r\n                    setSpanTime($cloned.find(\".time-slider\"));\r\n\r\n                    let days = [\"Su\", \"M\", \"T\", \"W\", \"R\", \"F\", \"S\"];\r\n                    days.forEach((day) => {\r\n                        if (day in timeRestrictionValue) {\r\n                            setInputCheckedByName(day, $cloned);\r\n                        }\r\n                    });\r\n\r\n                    $(\"#block\").append($cloned);\r\n                });\r\n            }\r\n        }\r\n    );\r\n};\r\n// Export function globally\r\nwindow.initialSetSliders = initialSetSliders;\r\n"],"sourceRoot":""}